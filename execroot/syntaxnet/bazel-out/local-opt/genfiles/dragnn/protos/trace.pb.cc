// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: dragnn/protos/trace.proto

#define INTERNAL_SUPPRESS_PROTOBUF_FIELD_DEPRECATION
#include "dragnn/protos/trace.pb.h"

#include <algorithm>

#include <google/protobuf/stubs/common.h>
#include <google/protobuf/stubs/port.h>
#include <google/protobuf/stubs/once.h>
#include <google/protobuf/io/coded_stream.h>
#include <google/protobuf/wire_format_lite_inl.h>
#include <google/protobuf/descriptor.h>
#include <google/protobuf/generated_message_reflection.h>
#include <google/protobuf/reflection_ops.h>
#include <google/protobuf/wire_format.h>
// @@protoc_insertion_point(includes)

namespace syntaxnet {
namespace dragnn {
class FixedFeatureChannelTraceDefaultTypeInternal : public ::google::protobuf::internal::ExplicitlyConstructed<FixedFeatureChannelTrace> {
} _FixedFeatureChannelTrace_default_instance_;
class LinkedFeatureChannelTraceDefaultTypeInternal : public ::google::protobuf::internal::ExplicitlyConstructed<LinkedFeatureChannelTrace> {
} _LinkedFeatureChannelTrace_default_instance_;
class ComponentStepTraceDefaultTypeInternal : public ::google::protobuf::internal::ExplicitlyConstructed<ComponentStepTrace> {
} _ComponentStepTrace_default_instance_;
class ComponentTraceDefaultTypeInternal : public ::google::protobuf::internal::ExplicitlyConstructed<ComponentTrace> {
} _ComponentTrace_default_instance_;
class MasterTraceDefaultTypeInternal : public ::google::protobuf::internal::ExplicitlyConstructed<MasterTrace> {
} _MasterTrace_default_instance_;
class DragnnTraceDefaultTypeInternal : public ::google::protobuf::internal::ExplicitlyConstructed<DragnnTrace> {
} _DragnnTrace_default_instance_;

namespace protobuf_dragnn_2fprotos_2ftrace_2eproto {


namespace {

::google::protobuf::Metadata file_level_metadata[6];

}  // namespace

const ::google::protobuf::uint32 TableStruct::offsets[] = {
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(FixedFeatureChannelTrace, _has_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(FixedFeatureChannelTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(FixedFeatureChannelTrace, name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(FixedFeatureChannelTrace, value_trace_),
  0,
  ~0u,
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, _has_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, source_component_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, source_translator_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, source_layer_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(LinkedFeatureChannelTrace, value_trace_),
  0,
  1,
  2,
  3,
  ~0u,
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, _has_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, caption_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, fixed_feature_trace_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, linked_feature_trace_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, html_representation_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, outcome_score_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentStepTrace, step_finished_),
  0,
  ~0u,
  ~0u,
  1,
  ~0u,
  2,
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentTrace, _has_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentTrace, name_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(ComponentTrace, step_trace_),
  0,
  ~0u,
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(MasterTrace, _has_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(MasterTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(MasterTrace, component_trace_),
  ~0u,
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(DragnnTrace, _has_bits_),
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(DragnnTrace, _internal_metadata_),
  ~0u,  // no _extensions_
  ~0u,  // no _oneof_case_
  GOOGLE_PROTOBUF_GENERATED_MESSAGE_FIELD_OFFSET(DragnnTrace, master_trace_),
  ~0u,
};

static const ::google::protobuf::internal::MigrationSchema schemas[] = {
  { 0, 6, sizeof(FixedFeatureChannelTrace)},
  { 8, 17, sizeof(LinkedFeatureChannelTrace)},
  { 22, 32, sizeof(ComponentStepTrace)},
  { 38, 44, sizeof(ComponentTrace)},
  { 46, 51, sizeof(MasterTrace)},
  { 52, 57, sizeof(DragnnTrace)},
};

static ::google::protobuf::Message const * const file_default_instances[] = {
  reinterpret_cast<const ::google::protobuf::Message*>(&_FixedFeatureChannelTrace_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&_LinkedFeatureChannelTrace_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&_ComponentStepTrace_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&_ComponentTrace_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&_MasterTrace_default_instance_),
  reinterpret_cast<const ::google::protobuf::Message*>(&_DragnnTrace_default_instance_),
};

namespace {

void protobuf_AssignDescriptors() {
  AddDescriptors();
  ::google::protobuf::MessageFactory* factory = NULL;
  AssignDescriptors(
      "dragnn/protos/trace.proto", schemas, file_default_instances, TableStruct::offsets, factory,
      file_level_metadata, NULL, NULL);
}

void protobuf_AssignDescriptorsOnce() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &protobuf_AssignDescriptors);
}

void protobuf_RegisterTypes(const ::std::string&) GOOGLE_ATTRIBUTE_COLD;
void protobuf_RegisterTypes(const ::std::string&) {
  protobuf_AssignDescriptorsOnce();
  ::google::protobuf::internal::RegisterAllTypes(file_level_metadata, 6);
}

}  // namespace

void TableStruct::Shutdown() {
  _FixedFeatureChannelTrace_default_instance_.Shutdown();
  delete file_level_metadata[0].reflection;
  _LinkedFeatureChannelTrace_default_instance_.Shutdown();
  delete file_level_metadata[1].reflection;
  _ComponentStepTrace_default_instance_.Shutdown();
  delete file_level_metadata[2].reflection;
  _ComponentTrace_default_instance_.Shutdown();
  delete file_level_metadata[3].reflection;
  _MasterTrace_default_instance_.Shutdown();
  delete file_level_metadata[4].reflection;
  _DragnnTrace_default_instance_.Shutdown();
  delete file_level_metadata[5].reflection;
}

void TableStruct::InitDefaultsImpl() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;

  ::google::protobuf::internal::InitProtobufDefaults();
  ::syntaxnet::dragnn::protobuf_dragnn_2fprotos_2fdata_2eproto::InitDefaults();
  _FixedFeatureChannelTrace_default_instance_.DefaultConstruct();
  _LinkedFeatureChannelTrace_default_instance_.DefaultConstruct();
  _ComponentStepTrace_default_instance_.DefaultConstruct();
  _ComponentTrace_default_instance_.DefaultConstruct();
  _MasterTrace_default_instance_.DefaultConstruct();
  _DragnnTrace_default_instance_.DefaultConstruct();
}

void InitDefaults() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &TableStruct::InitDefaultsImpl);
}
void AddDescriptorsImpl() {
  InitDefaults();
  static const char descriptor[] = {
      "\n\031dragnn/protos/trace.proto\022\020syntaxnet.d"
      "ragnn\032\030dragnn/protos/data.proto\"^\n\030Fixed"
      "FeatureChannelTrace\022\014\n\004name\030\001 \001(\t\0224\n\013val"
      "ue_trace\030\002 \003(\0132\037.syntaxnet.dragnn.FixedF"
      "eatures\"\251\001\n\031LinkedFeatureChannelTrace\022\014\n"
      "\004name\030\001 \001(\t\022\030\n\020source_component\030\002 \001(\t\022\031\n"
      "\021source_translator\030\003 \001(\t\022\024\n\014source_layer"
      "\030\004 \001(\t\0223\n\013value_trace\030\005 \003(\0132\036.syntaxnet."
      "dragnn.LinkFeatures\"\213\002\n\022ComponentStepTra"
      "ce\022\017\n\007caption\030\001 \001(\t\022G\n\023fixed_feature_tra"
      "ce\030\002 \003(\0132*.syntaxnet.dragnn.FixedFeature"
      "ChannelTrace\022I\n\024linked_feature_trace\030\003 \003"
      "(\0132+.syntaxnet.dragnn.LinkedFeatureChann"
      "elTrace\022\033\n\023html_representation\030\004 \001(\t\022\025\n\r"
      "outcome_score\030\005 \003(\001\022\034\n\rstep_finished\030\006 \001"
      "(\010:\005false\"X\n\016ComponentTrace\022\014\n\004name\030\001 \001("
      "\t\0228\n\nstep_trace\030\002 \003(\0132$.syntaxnet.dragnn"
      ".ComponentStepTrace\"H\n\013MasterTrace\0229\n\017co"
      "mponent_trace\030\001 \003(\0132 .syntaxnet.dragnn.C"
      "omponentTrace\"B\n\013DragnnTrace\0223\n\014master_t"
      "race\030\001 \003(\0132\035.syntaxnet.dragnn.MasterTrac"
      "e"
  };
  ::google::protobuf::DescriptorPool::InternalAddGeneratedFile(
      descriptor, 841);
  ::google::protobuf::MessageFactory::InternalRegisterGeneratedFile(
    "dragnn/protos/trace.proto", &protobuf_RegisterTypes);
  ::syntaxnet::dragnn::protobuf_dragnn_2fprotos_2fdata_2eproto::AddDescriptors();
  ::google::protobuf::internal::OnShutdown(&TableStruct::Shutdown);
}

void AddDescriptors() {
  static GOOGLE_PROTOBUF_DECLARE_ONCE(once);
  ::google::protobuf::GoogleOnceInit(&once, &AddDescriptorsImpl);
}
// Force AddDescriptors() to be called at static initialization time.
struct StaticDescriptorInitializer {
  StaticDescriptorInitializer() {
    AddDescriptors();
  }
} static_descriptor_initializer;

}  // namespace protobuf_dragnn_2fprotos_2ftrace_2eproto


// ===================================================================

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int FixedFeatureChannelTrace::kNameFieldNumber;
const int FixedFeatureChannelTrace::kValueTraceFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

FixedFeatureChannelTrace::FixedFeatureChannelTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:syntaxnet.dragnn.FixedFeatureChannelTrace)
}
FixedFeatureChannelTrace::FixedFeatureChannelTrace(const FixedFeatureChannelTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _has_bits_(from._has_bits_),
      _cached_size_(0),
      value_trace_(from.value_trace_) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_name()) {
    name_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name_);
  }
  // @@protoc_insertion_point(copy_constructor:syntaxnet.dragnn.FixedFeatureChannelTrace)
}

void FixedFeatureChannelTrace::SharedCtor() {
  _cached_size_ = 0;
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

FixedFeatureChannelTrace::~FixedFeatureChannelTrace() {
  // @@protoc_insertion_point(destructor:syntaxnet.dragnn.FixedFeatureChannelTrace)
  SharedDtor();
}

void FixedFeatureChannelTrace::SharedDtor() {
  name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void FixedFeatureChannelTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* FixedFeatureChannelTrace::descriptor() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[0].descriptor;
}

const FixedFeatureChannelTrace& FixedFeatureChannelTrace::default_instance() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  return *internal_default_instance();
}

FixedFeatureChannelTrace* FixedFeatureChannelTrace::New(::google::protobuf::Arena* arena) const {
  FixedFeatureChannelTrace* n = new FixedFeatureChannelTrace;
  if (arena != NULL) {
    arena->Own(n);
  }
  return n;
}

void FixedFeatureChannelTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  value_trace_.Clear();
  if (has_name()) {
    GOOGLE_DCHECK(!name_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
    (*name_.UnsafeRawStringPointer())->clear();
  }
  _has_bits_.Clear();
  _internal_metadata_.Clear();
}

bool FixedFeatureChannelTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // optional string name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_name()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->name().data(), this->name().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.FixedFeatureChannelTrace.name");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .syntaxnet.dragnn.FixedFeatures value_trace = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_value_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0 ||
            ::google::protobuf::internal::WireFormatLite::GetTagWireType(tag) ==
            ::google::protobuf::internal::WireFormatLite::WIRETYPE_END_GROUP) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:syntaxnet.dragnn.FixedFeatureChannelTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:syntaxnet.dragnn.FixedFeatureChannelTrace)
  return false;
#undef DO_
}

void FixedFeatureChannelTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  // optional string name = 1;
  if (has_name()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->name().data(), this->name().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.FixedFeatureChannelTrace.name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->name(), output);
  }

  // repeated .syntaxnet.dragnn.FixedFeatures value_trace = 2;
  for (unsigned int i = 0, n = this->value_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2, this->value_trace(i), output);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        unknown_fields(), output);
  }
  // @@protoc_insertion_point(serialize_end:syntaxnet.dragnn.FixedFeatureChannelTrace)
}

::google::protobuf::uint8* FixedFeatureChannelTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic;  // Unused
  // @@protoc_insertion_point(serialize_to_array_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  // optional string name = 1;
  if (has_name()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->name().data(), this->name().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.FixedFeatureChannelTrace.name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->name(), target);
  }

  // repeated .syntaxnet.dragnn.FixedFeatures value_trace = 2;
  for (unsigned int i = 0, n = this->value_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        2, this->value_trace(i), false, target);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        unknown_fields(), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:syntaxnet.dragnn.FixedFeatureChannelTrace)
  return target;
}

size_t FixedFeatureChannelTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  size_t total_size = 0;

  if (_internal_metadata_.have_unknown_fields()) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        unknown_fields());
  }
  // repeated .syntaxnet.dragnn.FixedFeatures value_trace = 2;
  {
    unsigned int count = this->value_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->value_trace(i));
    }
  }

  // optional string name = 1;
  if (has_name()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->name());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void FixedFeatureChannelTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const FixedFeatureChannelTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const FixedFeatureChannelTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:syntaxnet.dragnn.FixedFeatureChannelTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:syntaxnet.dragnn.FixedFeatureChannelTrace)
    MergeFrom(*source);
  }
}

void FixedFeatureChannelTrace::MergeFrom(const FixedFeatureChannelTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  value_trace_.MergeFrom(from.value_trace_);
  if (from.has_name()) {
    set_has_name();
    name_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name_);
  }
}

void FixedFeatureChannelTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void FixedFeatureChannelTrace::CopyFrom(const FixedFeatureChannelTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:syntaxnet.dragnn.FixedFeatureChannelTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool FixedFeatureChannelTrace::IsInitialized() const {
  return true;
}

void FixedFeatureChannelTrace::Swap(FixedFeatureChannelTrace* other) {
  if (other == this) return;
  InternalSwap(other);
}
void FixedFeatureChannelTrace::InternalSwap(FixedFeatureChannelTrace* other) {
  value_trace_.UnsafeArenaSwap(&other->value_trace_);
  name_.Swap(&other->name_);
  std::swap(_has_bits_[0], other->_has_bits_[0]);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  std::swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata FixedFeatureChannelTrace::GetMetadata() const {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[0];
}

#if PROTOBUF_INLINE_NOT_IN_HEADERS
// FixedFeatureChannelTrace

// optional string name = 1;
bool FixedFeatureChannelTrace::has_name() const {
  return (_has_bits_[0] & 0x00000001u) != 0;
}
void FixedFeatureChannelTrace::set_has_name() {
  _has_bits_[0] |= 0x00000001u;
}
void FixedFeatureChannelTrace::clear_has_name() {
  _has_bits_[0] &= ~0x00000001u;
}
void FixedFeatureChannelTrace::clear_name() {
  name_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_name();
}
const ::std::string& FixedFeatureChannelTrace::name() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
  return name_.GetNoArena();
}
void FixedFeatureChannelTrace::set_name(const ::std::string& value) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
}
#if LANG_CXX11
void FixedFeatureChannelTrace::set_name(::std::string&& value) {
  set_has_name();
  name_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
}
#endif
void FixedFeatureChannelTrace::set_name(const char* value) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
}
void FixedFeatureChannelTrace::set_name(const char* value, size_t size) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
}
::std::string* FixedFeatureChannelTrace::mutable_name() {
  set_has_name();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
  return name_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* FixedFeatureChannelTrace::release_name() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
  clear_has_name();
  return name_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void FixedFeatureChannelTrace::set_allocated_name(::std::string* name) {
  if (name != NULL) {
    set_has_name();
  } else {
    clear_has_name();
  }
  name_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), name);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.FixedFeatureChannelTrace.name)
}

// repeated .syntaxnet.dragnn.FixedFeatures value_trace = 2;
int FixedFeatureChannelTrace::value_trace_size() const {
  return value_trace_.size();
}
void FixedFeatureChannelTrace::clear_value_trace() {
  value_trace_.Clear();
}
const ::syntaxnet::dragnn::FixedFeatures& FixedFeatureChannelTrace::value_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.FixedFeatureChannelTrace.value_trace)
  return value_trace_.Get(index);
}
::syntaxnet::dragnn::FixedFeatures* FixedFeatureChannelTrace::mutable_value_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.FixedFeatureChannelTrace.value_trace)
  return value_trace_.Mutable(index);
}
::syntaxnet::dragnn::FixedFeatures* FixedFeatureChannelTrace::add_value_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.FixedFeatureChannelTrace.value_trace)
  return value_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::FixedFeatures >*
FixedFeatureChannelTrace::mutable_value_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.FixedFeatureChannelTrace.value_trace)
  return &value_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::FixedFeatures >&
FixedFeatureChannelTrace::value_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.FixedFeatureChannelTrace.value_trace)
  return value_trace_;
}

#endif  // PROTOBUF_INLINE_NOT_IN_HEADERS

// ===================================================================

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int LinkedFeatureChannelTrace::kNameFieldNumber;
const int LinkedFeatureChannelTrace::kSourceComponentFieldNumber;
const int LinkedFeatureChannelTrace::kSourceTranslatorFieldNumber;
const int LinkedFeatureChannelTrace::kSourceLayerFieldNumber;
const int LinkedFeatureChannelTrace::kValueTraceFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

LinkedFeatureChannelTrace::LinkedFeatureChannelTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:syntaxnet.dragnn.LinkedFeatureChannelTrace)
}
LinkedFeatureChannelTrace::LinkedFeatureChannelTrace(const LinkedFeatureChannelTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _has_bits_(from._has_bits_),
      _cached_size_(0),
      value_trace_(from.value_trace_) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_name()) {
    name_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name_);
  }
  source_component_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_source_component()) {
    source_component_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.source_component_);
  }
  source_translator_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_source_translator()) {
    source_translator_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.source_translator_);
  }
  source_layer_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_source_layer()) {
    source_layer_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.source_layer_);
  }
  // @@protoc_insertion_point(copy_constructor:syntaxnet.dragnn.LinkedFeatureChannelTrace)
}

void LinkedFeatureChannelTrace::SharedCtor() {
  _cached_size_ = 0;
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  source_component_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  source_translator_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  source_layer_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

LinkedFeatureChannelTrace::~LinkedFeatureChannelTrace() {
  // @@protoc_insertion_point(destructor:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  SharedDtor();
}

void LinkedFeatureChannelTrace::SharedDtor() {
  name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  source_component_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  source_translator_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  source_layer_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void LinkedFeatureChannelTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* LinkedFeatureChannelTrace::descriptor() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[1].descriptor;
}

const LinkedFeatureChannelTrace& LinkedFeatureChannelTrace::default_instance() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  return *internal_default_instance();
}

LinkedFeatureChannelTrace* LinkedFeatureChannelTrace::New(::google::protobuf::Arena* arena) const {
  LinkedFeatureChannelTrace* n = new LinkedFeatureChannelTrace;
  if (arena != NULL) {
    arena->Own(n);
  }
  return n;
}

void LinkedFeatureChannelTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  value_trace_.Clear();
  if (_has_bits_[0 / 32] & 15u) {
    if (has_name()) {
      GOOGLE_DCHECK(!name_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
      (*name_.UnsafeRawStringPointer())->clear();
    }
    if (has_source_component()) {
      GOOGLE_DCHECK(!source_component_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
      (*source_component_.UnsafeRawStringPointer())->clear();
    }
    if (has_source_translator()) {
      GOOGLE_DCHECK(!source_translator_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
      (*source_translator_.UnsafeRawStringPointer())->clear();
    }
    if (has_source_layer()) {
      GOOGLE_DCHECK(!source_layer_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
      (*source_layer_.UnsafeRawStringPointer())->clear();
    }
  }
  _has_bits_.Clear();
  _internal_metadata_.Clear();
}

bool LinkedFeatureChannelTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // optional string name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_name()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->name().data(), this->name().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.LinkedFeatureChannelTrace.name");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // optional string source_component = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_source_component()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->source_component().data(), this->source_component().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // optional string source_translator = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_source_translator()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->source_translator().data(), this->source_translator().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // optional string source_layer = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_source_layer()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->source_layer().data(), this->source_layer().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .syntaxnet.dragnn.LinkFeatures value_trace = 5;
      case 5: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(42u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_value_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0 ||
            ::google::protobuf::internal::WireFormatLite::GetTagWireType(tag) ==
            ::google::protobuf::internal::WireFormatLite::WIRETYPE_END_GROUP) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  return false;
#undef DO_
}

void LinkedFeatureChannelTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  // optional string name = 1;
  if (has_name()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->name().data(), this->name().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->name(), output);
  }

  // optional string source_component = 2;
  if (has_source_component()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->source_component().data(), this->source_component().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      2, this->source_component(), output);
  }

  // optional string source_translator = 3;
  if (has_source_translator()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->source_translator().data(), this->source_translator().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      3, this->source_translator(), output);
  }

  // optional string source_layer = 4;
  if (has_source_layer()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->source_layer().data(), this->source_layer().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      4, this->source_layer(), output);
  }

  // repeated .syntaxnet.dragnn.LinkFeatures value_trace = 5;
  for (unsigned int i = 0, n = this->value_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      5, this->value_trace(i), output);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        unknown_fields(), output);
  }
  // @@protoc_insertion_point(serialize_end:syntaxnet.dragnn.LinkedFeatureChannelTrace)
}

::google::protobuf::uint8* LinkedFeatureChannelTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic;  // Unused
  // @@protoc_insertion_point(serialize_to_array_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  // optional string name = 1;
  if (has_name()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->name().data(), this->name().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->name(), target);
  }

  // optional string source_component = 2;
  if (has_source_component()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->source_component().data(), this->source_component().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        2, this->source_component(), target);
  }

  // optional string source_translator = 3;
  if (has_source_translator()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->source_translator().data(), this->source_translator().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        3, this->source_translator(), target);
  }

  // optional string source_layer = 4;
  if (has_source_layer()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->source_layer().data(), this->source_layer().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        4, this->source_layer(), target);
  }

  // repeated .syntaxnet.dragnn.LinkFeatures value_trace = 5;
  for (unsigned int i = 0, n = this->value_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        5, this->value_trace(i), false, target);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        unknown_fields(), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  return target;
}

size_t LinkedFeatureChannelTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  size_t total_size = 0;

  if (_internal_metadata_.have_unknown_fields()) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        unknown_fields());
  }
  // repeated .syntaxnet.dragnn.LinkFeatures value_trace = 5;
  {
    unsigned int count = this->value_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->value_trace(i));
    }
  }

  if (_has_bits_[0 / 32] & 15u) {
    // optional string name = 1;
    if (has_name()) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::StringSize(
          this->name());
    }

    // optional string source_component = 2;
    if (has_source_component()) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::StringSize(
          this->source_component());
    }

    // optional string source_translator = 3;
    if (has_source_translator()) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::StringSize(
          this->source_translator());
    }

    // optional string source_layer = 4;
    if (has_source_layer()) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::StringSize(
          this->source_layer());
    }

  }
  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void LinkedFeatureChannelTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const LinkedFeatureChannelTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const LinkedFeatureChannelTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:syntaxnet.dragnn.LinkedFeatureChannelTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:syntaxnet.dragnn.LinkedFeatureChannelTrace)
    MergeFrom(*source);
  }
}

void LinkedFeatureChannelTrace::MergeFrom(const LinkedFeatureChannelTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  value_trace_.MergeFrom(from.value_trace_);
  if (from._has_bits_[0 / 32] & 15u) {
    if (from.has_name()) {
      set_has_name();
      name_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name_);
    }
    if (from.has_source_component()) {
      set_has_source_component();
      source_component_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.source_component_);
    }
    if (from.has_source_translator()) {
      set_has_source_translator();
      source_translator_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.source_translator_);
    }
    if (from.has_source_layer()) {
      set_has_source_layer();
      source_layer_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.source_layer_);
    }
  }
}

void LinkedFeatureChannelTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void LinkedFeatureChannelTrace::CopyFrom(const LinkedFeatureChannelTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:syntaxnet.dragnn.LinkedFeatureChannelTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool LinkedFeatureChannelTrace::IsInitialized() const {
  return true;
}

void LinkedFeatureChannelTrace::Swap(LinkedFeatureChannelTrace* other) {
  if (other == this) return;
  InternalSwap(other);
}
void LinkedFeatureChannelTrace::InternalSwap(LinkedFeatureChannelTrace* other) {
  value_trace_.UnsafeArenaSwap(&other->value_trace_);
  name_.Swap(&other->name_);
  source_component_.Swap(&other->source_component_);
  source_translator_.Swap(&other->source_translator_);
  source_layer_.Swap(&other->source_layer_);
  std::swap(_has_bits_[0], other->_has_bits_[0]);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  std::swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata LinkedFeatureChannelTrace::GetMetadata() const {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[1];
}

#if PROTOBUF_INLINE_NOT_IN_HEADERS
// LinkedFeatureChannelTrace

// optional string name = 1;
bool LinkedFeatureChannelTrace::has_name() const {
  return (_has_bits_[0] & 0x00000001u) != 0;
}
void LinkedFeatureChannelTrace::set_has_name() {
  _has_bits_[0] |= 0x00000001u;
}
void LinkedFeatureChannelTrace::clear_has_name() {
  _has_bits_[0] &= ~0x00000001u;
}
void LinkedFeatureChannelTrace::clear_name() {
  name_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_name();
}
const ::std::string& LinkedFeatureChannelTrace::name() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
  return name_.GetNoArena();
}
void LinkedFeatureChannelTrace::set_name(const ::std::string& value) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
}
#if LANG_CXX11
void LinkedFeatureChannelTrace::set_name(::std::string&& value) {
  set_has_name();
  name_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
}
#endif
void LinkedFeatureChannelTrace::set_name(const char* value) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
}
void LinkedFeatureChannelTrace::set_name(const char* value, size_t size) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
}
::std::string* LinkedFeatureChannelTrace::mutable_name() {
  set_has_name();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
  return name_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* LinkedFeatureChannelTrace::release_name() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
  clear_has_name();
  return name_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void LinkedFeatureChannelTrace::set_allocated_name(::std::string* name) {
  if (name != NULL) {
    set_has_name();
  } else {
    clear_has_name();
  }
  name_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), name);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.LinkedFeatureChannelTrace.name)
}

// optional string source_component = 2;
bool LinkedFeatureChannelTrace::has_source_component() const {
  return (_has_bits_[0] & 0x00000002u) != 0;
}
void LinkedFeatureChannelTrace::set_has_source_component() {
  _has_bits_[0] |= 0x00000002u;
}
void LinkedFeatureChannelTrace::clear_has_source_component() {
  _has_bits_[0] &= ~0x00000002u;
}
void LinkedFeatureChannelTrace::clear_source_component() {
  source_component_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_source_component();
}
const ::std::string& LinkedFeatureChannelTrace::source_component() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
  return source_component_.GetNoArena();
}
void LinkedFeatureChannelTrace::set_source_component(const ::std::string& value) {
  set_has_source_component();
  source_component_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
}
#if LANG_CXX11
void LinkedFeatureChannelTrace::set_source_component(::std::string&& value) {
  set_has_source_component();
  source_component_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
}
#endif
void LinkedFeatureChannelTrace::set_source_component(const char* value) {
  set_has_source_component();
  source_component_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
}
void LinkedFeatureChannelTrace::set_source_component(const char* value, size_t size) {
  set_has_source_component();
  source_component_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
}
::std::string* LinkedFeatureChannelTrace::mutable_source_component() {
  set_has_source_component();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
  return source_component_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* LinkedFeatureChannelTrace::release_source_component() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
  clear_has_source_component();
  return source_component_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void LinkedFeatureChannelTrace::set_allocated_source_component(::std::string* source_component) {
  if (source_component != NULL) {
    set_has_source_component();
  } else {
    clear_has_source_component();
  }
  source_component_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), source_component);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_component)
}

// optional string source_translator = 3;
bool LinkedFeatureChannelTrace::has_source_translator() const {
  return (_has_bits_[0] & 0x00000004u) != 0;
}
void LinkedFeatureChannelTrace::set_has_source_translator() {
  _has_bits_[0] |= 0x00000004u;
}
void LinkedFeatureChannelTrace::clear_has_source_translator() {
  _has_bits_[0] &= ~0x00000004u;
}
void LinkedFeatureChannelTrace::clear_source_translator() {
  source_translator_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_source_translator();
}
const ::std::string& LinkedFeatureChannelTrace::source_translator() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
  return source_translator_.GetNoArena();
}
void LinkedFeatureChannelTrace::set_source_translator(const ::std::string& value) {
  set_has_source_translator();
  source_translator_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
}
#if LANG_CXX11
void LinkedFeatureChannelTrace::set_source_translator(::std::string&& value) {
  set_has_source_translator();
  source_translator_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
}
#endif
void LinkedFeatureChannelTrace::set_source_translator(const char* value) {
  set_has_source_translator();
  source_translator_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
}
void LinkedFeatureChannelTrace::set_source_translator(const char* value, size_t size) {
  set_has_source_translator();
  source_translator_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
}
::std::string* LinkedFeatureChannelTrace::mutable_source_translator() {
  set_has_source_translator();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
  return source_translator_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* LinkedFeatureChannelTrace::release_source_translator() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
  clear_has_source_translator();
  return source_translator_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void LinkedFeatureChannelTrace::set_allocated_source_translator(::std::string* source_translator) {
  if (source_translator != NULL) {
    set_has_source_translator();
  } else {
    clear_has_source_translator();
  }
  source_translator_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), source_translator);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_translator)
}

// optional string source_layer = 4;
bool LinkedFeatureChannelTrace::has_source_layer() const {
  return (_has_bits_[0] & 0x00000008u) != 0;
}
void LinkedFeatureChannelTrace::set_has_source_layer() {
  _has_bits_[0] |= 0x00000008u;
}
void LinkedFeatureChannelTrace::clear_has_source_layer() {
  _has_bits_[0] &= ~0x00000008u;
}
void LinkedFeatureChannelTrace::clear_source_layer() {
  source_layer_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_source_layer();
}
const ::std::string& LinkedFeatureChannelTrace::source_layer() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
  return source_layer_.GetNoArena();
}
void LinkedFeatureChannelTrace::set_source_layer(const ::std::string& value) {
  set_has_source_layer();
  source_layer_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
}
#if LANG_CXX11
void LinkedFeatureChannelTrace::set_source_layer(::std::string&& value) {
  set_has_source_layer();
  source_layer_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
}
#endif
void LinkedFeatureChannelTrace::set_source_layer(const char* value) {
  set_has_source_layer();
  source_layer_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
}
void LinkedFeatureChannelTrace::set_source_layer(const char* value, size_t size) {
  set_has_source_layer();
  source_layer_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
}
::std::string* LinkedFeatureChannelTrace::mutable_source_layer() {
  set_has_source_layer();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
  return source_layer_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* LinkedFeatureChannelTrace::release_source_layer() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
  clear_has_source_layer();
  return source_layer_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void LinkedFeatureChannelTrace::set_allocated_source_layer(::std::string* source_layer) {
  if (source_layer != NULL) {
    set_has_source_layer();
  } else {
    clear_has_source_layer();
  }
  source_layer_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), source_layer);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.LinkedFeatureChannelTrace.source_layer)
}

// repeated .syntaxnet.dragnn.LinkFeatures value_trace = 5;
int LinkedFeatureChannelTrace::value_trace_size() const {
  return value_trace_.size();
}
void LinkedFeatureChannelTrace::clear_value_trace() {
  value_trace_.Clear();
}
const ::syntaxnet::dragnn::LinkFeatures& LinkedFeatureChannelTrace::value_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.LinkedFeatureChannelTrace.value_trace)
  return value_trace_.Get(index);
}
::syntaxnet::dragnn::LinkFeatures* LinkedFeatureChannelTrace::mutable_value_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.LinkedFeatureChannelTrace.value_trace)
  return value_trace_.Mutable(index);
}
::syntaxnet::dragnn::LinkFeatures* LinkedFeatureChannelTrace::add_value_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.LinkedFeatureChannelTrace.value_trace)
  return value_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::LinkFeatures >*
LinkedFeatureChannelTrace::mutable_value_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.LinkedFeatureChannelTrace.value_trace)
  return &value_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::LinkFeatures >&
LinkedFeatureChannelTrace::value_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.LinkedFeatureChannelTrace.value_trace)
  return value_trace_;
}

#endif  // PROTOBUF_INLINE_NOT_IN_HEADERS

// ===================================================================

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int ComponentStepTrace::kCaptionFieldNumber;
const int ComponentStepTrace::kFixedFeatureTraceFieldNumber;
const int ComponentStepTrace::kLinkedFeatureTraceFieldNumber;
const int ComponentStepTrace::kHtmlRepresentationFieldNumber;
const int ComponentStepTrace::kOutcomeScoreFieldNumber;
const int ComponentStepTrace::kStepFinishedFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

ComponentStepTrace::ComponentStepTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:syntaxnet.dragnn.ComponentStepTrace)
}
ComponentStepTrace::ComponentStepTrace(const ComponentStepTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _has_bits_(from._has_bits_),
      _cached_size_(0),
      fixed_feature_trace_(from.fixed_feature_trace_),
      linked_feature_trace_(from.linked_feature_trace_),
      outcome_score_(from.outcome_score_) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  caption_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_caption()) {
    caption_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.caption_);
  }
  html_representation_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_html_representation()) {
    html_representation_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.html_representation_);
  }
  step_finished_ = from.step_finished_;
  // @@protoc_insertion_point(copy_constructor:syntaxnet.dragnn.ComponentStepTrace)
}

void ComponentStepTrace::SharedCtor() {
  _cached_size_ = 0;
  caption_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  html_representation_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  step_finished_ = false;
}

ComponentStepTrace::~ComponentStepTrace() {
  // @@protoc_insertion_point(destructor:syntaxnet.dragnn.ComponentStepTrace)
  SharedDtor();
}

void ComponentStepTrace::SharedDtor() {
  caption_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  html_representation_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void ComponentStepTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* ComponentStepTrace::descriptor() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[2].descriptor;
}

const ComponentStepTrace& ComponentStepTrace::default_instance() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  return *internal_default_instance();
}

ComponentStepTrace* ComponentStepTrace::New(::google::protobuf::Arena* arena) const {
  ComponentStepTrace* n = new ComponentStepTrace;
  if (arena != NULL) {
    arena->Own(n);
  }
  return n;
}

void ComponentStepTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:syntaxnet.dragnn.ComponentStepTrace)
  fixed_feature_trace_.Clear();
  linked_feature_trace_.Clear();
  outcome_score_.Clear();
  if (_has_bits_[0 / 32] & 3u) {
    if (has_caption()) {
      GOOGLE_DCHECK(!caption_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
      (*caption_.UnsafeRawStringPointer())->clear();
    }
    if (has_html_representation()) {
      GOOGLE_DCHECK(!html_representation_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
      (*html_representation_.UnsafeRawStringPointer())->clear();
    }
  }
  step_finished_ = false;
  _has_bits_.Clear();
  _internal_metadata_.Clear();
}

bool ComponentStepTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:syntaxnet.dragnn.ComponentStepTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // optional string caption = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_caption()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->caption().data(), this->caption().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.ComponentStepTrace.caption");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .syntaxnet.dragnn.FixedFeatureChannelTrace fixed_feature_trace = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_fixed_feature_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      // repeated .syntaxnet.dragnn.LinkedFeatureChannelTrace linked_feature_trace = 3;
      case 3: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(26u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_linked_feature_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      // optional string html_representation = 4;
      case 4: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(34u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_html_representation()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->html_representation().data(), this->html_representation().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.ComponentStepTrace.html_representation");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated double outcome_score = 5;
      case 5: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(41u)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadRepeatedPrimitive<
                   double, ::google::protobuf::internal::WireFormatLite::TYPE_DOUBLE>(
                 1, 41u, input, this->mutable_outcome_score())));
        } else if (static_cast< ::google::protobuf::uint8>(tag) ==
                   static_cast< ::google::protobuf::uint8>(42u)) {
          DO_((::google::protobuf::internal::WireFormatLite::ReadPackedPrimitiveNoInline<
                   double, ::google::protobuf::internal::WireFormatLite::TYPE_DOUBLE>(
                 input, this->mutable_outcome_score())));
        } else {
          goto handle_unusual;
        }
        break;
      }

      // optional bool step_finished = 6 [default = false];
      case 6: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(48u)) {
          set_has_step_finished();
          DO_((::google::protobuf::internal::WireFormatLite::ReadPrimitive<
                   bool, ::google::protobuf::internal::WireFormatLite::TYPE_BOOL>(
                 input, &step_finished_)));
        } else {
          goto handle_unusual;
        }
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0 ||
            ::google::protobuf::internal::WireFormatLite::GetTagWireType(tag) ==
            ::google::protobuf::internal::WireFormatLite::WIRETYPE_END_GROUP) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:syntaxnet.dragnn.ComponentStepTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:syntaxnet.dragnn.ComponentStepTrace)
  return false;
#undef DO_
}

void ComponentStepTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:syntaxnet.dragnn.ComponentStepTrace)
  // optional string caption = 1;
  if (has_caption()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->caption().data(), this->caption().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.ComponentStepTrace.caption");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->caption(), output);
  }

  // repeated .syntaxnet.dragnn.FixedFeatureChannelTrace fixed_feature_trace = 2;
  for (unsigned int i = 0, n = this->fixed_feature_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2, this->fixed_feature_trace(i), output);
  }

  // repeated .syntaxnet.dragnn.LinkedFeatureChannelTrace linked_feature_trace = 3;
  for (unsigned int i = 0, n = this->linked_feature_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      3, this->linked_feature_trace(i), output);
  }

  // optional string html_representation = 4;
  if (has_html_representation()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->html_representation().data(), this->html_representation().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.ComponentStepTrace.html_representation");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      4, this->html_representation(), output);
  }

  // repeated double outcome_score = 5;
  for (int i = 0, n = this->outcome_score_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteDouble(
      5, this->outcome_score(i), output);
  }

  // optional bool step_finished = 6 [default = false];
  if (has_step_finished()) {
    ::google::protobuf::internal::WireFormatLite::WriteBool(6, this->step_finished(), output);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        unknown_fields(), output);
  }
  // @@protoc_insertion_point(serialize_end:syntaxnet.dragnn.ComponentStepTrace)
}

::google::protobuf::uint8* ComponentStepTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic;  // Unused
  // @@protoc_insertion_point(serialize_to_array_start:syntaxnet.dragnn.ComponentStepTrace)
  // optional string caption = 1;
  if (has_caption()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->caption().data(), this->caption().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.ComponentStepTrace.caption");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->caption(), target);
  }

  // repeated .syntaxnet.dragnn.FixedFeatureChannelTrace fixed_feature_trace = 2;
  for (unsigned int i = 0, n = this->fixed_feature_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        2, this->fixed_feature_trace(i), false, target);
  }

  // repeated .syntaxnet.dragnn.LinkedFeatureChannelTrace linked_feature_trace = 3;
  for (unsigned int i = 0, n = this->linked_feature_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        3, this->linked_feature_trace(i), false, target);
  }

  // optional string html_representation = 4;
  if (has_html_representation()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->html_representation().data(), this->html_representation().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.ComponentStepTrace.html_representation");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        4, this->html_representation(), target);
  }

  // repeated double outcome_score = 5;
  for (int i = 0, n = this->outcome_score_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      WriteDoubleToArray(5, this->outcome_score(i), target);
  }

  // optional bool step_finished = 6 [default = false];
  if (has_step_finished()) {
    target = ::google::protobuf::internal::WireFormatLite::WriteBoolToArray(6, this->step_finished(), target);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        unknown_fields(), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:syntaxnet.dragnn.ComponentStepTrace)
  return target;
}

size_t ComponentStepTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:syntaxnet.dragnn.ComponentStepTrace)
  size_t total_size = 0;

  if (_internal_metadata_.have_unknown_fields()) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        unknown_fields());
  }
  // repeated .syntaxnet.dragnn.FixedFeatureChannelTrace fixed_feature_trace = 2;
  {
    unsigned int count = this->fixed_feature_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->fixed_feature_trace(i));
    }
  }

  // repeated .syntaxnet.dragnn.LinkedFeatureChannelTrace linked_feature_trace = 3;
  {
    unsigned int count = this->linked_feature_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->linked_feature_trace(i));
    }
  }

  // repeated double outcome_score = 5;
  {
    unsigned int count = this->outcome_score_size();
    size_t data_size = 8UL * count;
    total_size += 1 *
                  ::google::protobuf::internal::FromIntSize(this->outcome_score_size());
    total_size += data_size;
  }

  if (_has_bits_[0 / 32] & 7u) {
    // optional string caption = 1;
    if (has_caption()) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::StringSize(
          this->caption());
    }

    // optional string html_representation = 4;
    if (has_html_representation()) {
      total_size += 1 +
        ::google::protobuf::internal::WireFormatLite::StringSize(
          this->html_representation());
    }

    // optional bool step_finished = 6 [default = false];
    if (has_step_finished()) {
      total_size += 1 + 1;
    }

  }
  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void ComponentStepTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:syntaxnet.dragnn.ComponentStepTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const ComponentStepTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const ComponentStepTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:syntaxnet.dragnn.ComponentStepTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:syntaxnet.dragnn.ComponentStepTrace)
    MergeFrom(*source);
  }
}

void ComponentStepTrace::MergeFrom(const ComponentStepTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:syntaxnet.dragnn.ComponentStepTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  fixed_feature_trace_.MergeFrom(from.fixed_feature_trace_);
  linked_feature_trace_.MergeFrom(from.linked_feature_trace_);
  outcome_score_.MergeFrom(from.outcome_score_);
  if (from._has_bits_[0 / 32] & 7u) {
    if (from.has_caption()) {
      set_has_caption();
      caption_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.caption_);
    }
    if (from.has_html_representation()) {
      set_has_html_representation();
      html_representation_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.html_representation_);
    }
    if (from.has_step_finished()) {
      set_step_finished(from.step_finished());
    }
  }
}

void ComponentStepTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:syntaxnet.dragnn.ComponentStepTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void ComponentStepTrace::CopyFrom(const ComponentStepTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:syntaxnet.dragnn.ComponentStepTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool ComponentStepTrace::IsInitialized() const {
  return true;
}

void ComponentStepTrace::Swap(ComponentStepTrace* other) {
  if (other == this) return;
  InternalSwap(other);
}
void ComponentStepTrace::InternalSwap(ComponentStepTrace* other) {
  fixed_feature_trace_.UnsafeArenaSwap(&other->fixed_feature_trace_);
  linked_feature_trace_.UnsafeArenaSwap(&other->linked_feature_trace_);
  outcome_score_.UnsafeArenaSwap(&other->outcome_score_);
  caption_.Swap(&other->caption_);
  html_representation_.Swap(&other->html_representation_);
  std::swap(step_finished_, other->step_finished_);
  std::swap(_has_bits_[0], other->_has_bits_[0]);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  std::swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata ComponentStepTrace::GetMetadata() const {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[2];
}

#if PROTOBUF_INLINE_NOT_IN_HEADERS
// ComponentStepTrace

// optional string caption = 1;
bool ComponentStepTrace::has_caption() const {
  return (_has_bits_[0] & 0x00000001u) != 0;
}
void ComponentStepTrace::set_has_caption() {
  _has_bits_[0] |= 0x00000001u;
}
void ComponentStepTrace::clear_has_caption() {
  _has_bits_[0] &= ~0x00000001u;
}
void ComponentStepTrace::clear_caption() {
  caption_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_caption();
}
const ::std::string& ComponentStepTrace::caption() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentStepTrace.caption)
  return caption_.GetNoArena();
}
void ComponentStepTrace::set_caption(const ::std::string& value) {
  set_has_caption();
  caption_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.ComponentStepTrace.caption)
}
#if LANG_CXX11
void ComponentStepTrace::set_caption(::std::string&& value) {
  set_has_caption();
  caption_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.ComponentStepTrace.caption)
}
#endif
void ComponentStepTrace::set_caption(const char* value) {
  set_has_caption();
  caption_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.ComponentStepTrace.caption)
}
void ComponentStepTrace::set_caption(const char* value, size_t size) {
  set_has_caption();
  caption_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.ComponentStepTrace.caption)
}
::std::string* ComponentStepTrace::mutable_caption() {
  set_has_caption();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.ComponentStepTrace.caption)
  return caption_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* ComponentStepTrace::release_caption() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.ComponentStepTrace.caption)
  clear_has_caption();
  return caption_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void ComponentStepTrace::set_allocated_caption(::std::string* caption) {
  if (caption != NULL) {
    set_has_caption();
  } else {
    clear_has_caption();
  }
  caption_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), caption);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.ComponentStepTrace.caption)
}

// repeated .syntaxnet.dragnn.FixedFeatureChannelTrace fixed_feature_trace = 2;
int ComponentStepTrace::fixed_feature_trace_size() const {
  return fixed_feature_trace_.size();
}
void ComponentStepTrace::clear_fixed_feature_trace() {
  fixed_feature_trace_.Clear();
}
const ::syntaxnet::dragnn::FixedFeatureChannelTrace& ComponentStepTrace::fixed_feature_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentStepTrace.fixed_feature_trace)
  return fixed_feature_trace_.Get(index);
}
::syntaxnet::dragnn::FixedFeatureChannelTrace* ComponentStepTrace::mutable_fixed_feature_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.ComponentStepTrace.fixed_feature_trace)
  return fixed_feature_trace_.Mutable(index);
}
::syntaxnet::dragnn::FixedFeatureChannelTrace* ComponentStepTrace::add_fixed_feature_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.ComponentStepTrace.fixed_feature_trace)
  return fixed_feature_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::FixedFeatureChannelTrace >*
ComponentStepTrace::mutable_fixed_feature_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.ComponentStepTrace.fixed_feature_trace)
  return &fixed_feature_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::FixedFeatureChannelTrace >&
ComponentStepTrace::fixed_feature_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.ComponentStepTrace.fixed_feature_trace)
  return fixed_feature_trace_;
}

// repeated .syntaxnet.dragnn.LinkedFeatureChannelTrace linked_feature_trace = 3;
int ComponentStepTrace::linked_feature_trace_size() const {
  return linked_feature_trace_.size();
}
void ComponentStepTrace::clear_linked_feature_trace() {
  linked_feature_trace_.Clear();
}
const ::syntaxnet::dragnn::LinkedFeatureChannelTrace& ComponentStepTrace::linked_feature_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentStepTrace.linked_feature_trace)
  return linked_feature_trace_.Get(index);
}
::syntaxnet::dragnn::LinkedFeatureChannelTrace* ComponentStepTrace::mutable_linked_feature_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.ComponentStepTrace.linked_feature_trace)
  return linked_feature_trace_.Mutable(index);
}
::syntaxnet::dragnn::LinkedFeatureChannelTrace* ComponentStepTrace::add_linked_feature_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.ComponentStepTrace.linked_feature_trace)
  return linked_feature_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::LinkedFeatureChannelTrace >*
ComponentStepTrace::mutable_linked_feature_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.ComponentStepTrace.linked_feature_trace)
  return &linked_feature_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::LinkedFeatureChannelTrace >&
ComponentStepTrace::linked_feature_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.ComponentStepTrace.linked_feature_trace)
  return linked_feature_trace_;
}

// optional string html_representation = 4;
bool ComponentStepTrace::has_html_representation() const {
  return (_has_bits_[0] & 0x00000002u) != 0;
}
void ComponentStepTrace::set_has_html_representation() {
  _has_bits_[0] |= 0x00000002u;
}
void ComponentStepTrace::clear_has_html_representation() {
  _has_bits_[0] &= ~0x00000002u;
}
void ComponentStepTrace::clear_html_representation() {
  html_representation_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_html_representation();
}
const ::std::string& ComponentStepTrace::html_representation() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentStepTrace.html_representation)
  return html_representation_.GetNoArena();
}
void ComponentStepTrace::set_html_representation(const ::std::string& value) {
  set_has_html_representation();
  html_representation_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.ComponentStepTrace.html_representation)
}
#if LANG_CXX11
void ComponentStepTrace::set_html_representation(::std::string&& value) {
  set_has_html_representation();
  html_representation_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.ComponentStepTrace.html_representation)
}
#endif
void ComponentStepTrace::set_html_representation(const char* value) {
  set_has_html_representation();
  html_representation_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.ComponentStepTrace.html_representation)
}
void ComponentStepTrace::set_html_representation(const char* value, size_t size) {
  set_has_html_representation();
  html_representation_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.ComponentStepTrace.html_representation)
}
::std::string* ComponentStepTrace::mutable_html_representation() {
  set_has_html_representation();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.ComponentStepTrace.html_representation)
  return html_representation_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* ComponentStepTrace::release_html_representation() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.ComponentStepTrace.html_representation)
  clear_has_html_representation();
  return html_representation_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void ComponentStepTrace::set_allocated_html_representation(::std::string* html_representation) {
  if (html_representation != NULL) {
    set_has_html_representation();
  } else {
    clear_has_html_representation();
  }
  html_representation_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), html_representation);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.ComponentStepTrace.html_representation)
}

// repeated double outcome_score = 5;
int ComponentStepTrace::outcome_score_size() const {
  return outcome_score_.size();
}
void ComponentStepTrace::clear_outcome_score() {
  outcome_score_.Clear();
}
double ComponentStepTrace::outcome_score(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentStepTrace.outcome_score)
  return outcome_score_.Get(index);
}
void ComponentStepTrace::set_outcome_score(int index, double value) {
  outcome_score_.Set(index, value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.ComponentStepTrace.outcome_score)
}
void ComponentStepTrace::add_outcome_score(double value) {
  outcome_score_.Add(value);
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.ComponentStepTrace.outcome_score)
}
const ::google::protobuf::RepeatedField< double >&
ComponentStepTrace::outcome_score() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.ComponentStepTrace.outcome_score)
  return outcome_score_;
}
::google::protobuf::RepeatedField< double >*
ComponentStepTrace::mutable_outcome_score() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.ComponentStepTrace.outcome_score)
  return &outcome_score_;
}

// optional bool step_finished = 6 [default = false];
bool ComponentStepTrace::has_step_finished() const {
  return (_has_bits_[0] & 0x00000004u) != 0;
}
void ComponentStepTrace::set_has_step_finished() {
  _has_bits_[0] |= 0x00000004u;
}
void ComponentStepTrace::clear_has_step_finished() {
  _has_bits_[0] &= ~0x00000004u;
}
void ComponentStepTrace::clear_step_finished() {
  step_finished_ = false;
  clear_has_step_finished();
}
bool ComponentStepTrace::step_finished() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentStepTrace.step_finished)
  return step_finished_;
}
void ComponentStepTrace::set_step_finished(bool value) {
  set_has_step_finished();
  step_finished_ = value;
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.ComponentStepTrace.step_finished)
}

#endif  // PROTOBUF_INLINE_NOT_IN_HEADERS

// ===================================================================

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int ComponentTrace::kNameFieldNumber;
const int ComponentTrace::kStepTraceFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

ComponentTrace::ComponentTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:syntaxnet.dragnn.ComponentTrace)
}
ComponentTrace::ComponentTrace(const ComponentTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _has_bits_(from._has_bits_),
      _cached_size_(0),
      step_trace_(from.step_trace_) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  if (from.has_name()) {
    name_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name_);
  }
  // @@protoc_insertion_point(copy_constructor:syntaxnet.dragnn.ComponentTrace)
}

void ComponentTrace::SharedCtor() {
  _cached_size_ = 0;
  name_.UnsafeSetDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

ComponentTrace::~ComponentTrace() {
  // @@protoc_insertion_point(destructor:syntaxnet.dragnn.ComponentTrace)
  SharedDtor();
}

void ComponentTrace::SharedDtor() {
  name_.DestroyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}

void ComponentTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* ComponentTrace::descriptor() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[3].descriptor;
}

const ComponentTrace& ComponentTrace::default_instance() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  return *internal_default_instance();
}

ComponentTrace* ComponentTrace::New(::google::protobuf::Arena* arena) const {
  ComponentTrace* n = new ComponentTrace;
  if (arena != NULL) {
    arena->Own(n);
  }
  return n;
}

void ComponentTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:syntaxnet.dragnn.ComponentTrace)
  step_trace_.Clear();
  if (has_name()) {
    GOOGLE_DCHECK(!name_.IsDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited()));
    (*name_.UnsafeRawStringPointer())->clear();
  }
  _has_bits_.Clear();
  _internal_metadata_.Clear();
}

bool ComponentTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:syntaxnet.dragnn.ComponentTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // optional string name = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u)) {
          DO_(::google::protobuf::internal::WireFormatLite::ReadString(
                input, this->mutable_name()));
          ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
            this->name().data(), this->name().length(),
            ::google::protobuf::internal::WireFormat::PARSE,
            "syntaxnet.dragnn.ComponentTrace.name");
        } else {
          goto handle_unusual;
        }
        break;
      }

      // repeated .syntaxnet.dragnn.ComponentStepTrace step_trace = 2;
      case 2: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(18u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_step_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0 ||
            ::google::protobuf::internal::WireFormatLite::GetTagWireType(tag) ==
            ::google::protobuf::internal::WireFormatLite::WIRETYPE_END_GROUP) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:syntaxnet.dragnn.ComponentTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:syntaxnet.dragnn.ComponentTrace)
  return false;
#undef DO_
}

void ComponentTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:syntaxnet.dragnn.ComponentTrace)
  // optional string name = 1;
  if (has_name()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->name().data(), this->name().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.ComponentTrace.name");
    ::google::protobuf::internal::WireFormatLite::WriteStringMaybeAliased(
      1, this->name(), output);
  }

  // repeated .syntaxnet.dragnn.ComponentStepTrace step_trace = 2;
  for (unsigned int i = 0, n = this->step_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      2, this->step_trace(i), output);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        unknown_fields(), output);
  }
  // @@protoc_insertion_point(serialize_end:syntaxnet.dragnn.ComponentTrace)
}

::google::protobuf::uint8* ComponentTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic;  // Unused
  // @@protoc_insertion_point(serialize_to_array_start:syntaxnet.dragnn.ComponentTrace)
  // optional string name = 1;
  if (has_name()) {
    ::google::protobuf::internal::WireFormat::VerifyUTF8StringNamedField(
      this->name().data(), this->name().length(),
      ::google::protobuf::internal::WireFormat::SERIALIZE,
      "syntaxnet.dragnn.ComponentTrace.name");
    target =
      ::google::protobuf::internal::WireFormatLite::WriteStringToArray(
        1, this->name(), target);
  }

  // repeated .syntaxnet.dragnn.ComponentStepTrace step_trace = 2;
  for (unsigned int i = 0, n = this->step_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        2, this->step_trace(i), false, target);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        unknown_fields(), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:syntaxnet.dragnn.ComponentTrace)
  return target;
}

size_t ComponentTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:syntaxnet.dragnn.ComponentTrace)
  size_t total_size = 0;

  if (_internal_metadata_.have_unknown_fields()) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        unknown_fields());
  }
  // repeated .syntaxnet.dragnn.ComponentStepTrace step_trace = 2;
  {
    unsigned int count = this->step_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->step_trace(i));
    }
  }

  // optional string name = 1;
  if (has_name()) {
    total_size += 1 +
      ::google::protobuf::internal::WireFormatLite::StringSize(
        this->name());
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void ComponentTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:syntaxnet.dragnn.ComponentTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const ComponentTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const ComponentTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:syntaxnet.dragnn.ComponentTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:syntaxnet.dragnn.ComponentTrace)
    MergeFrom(*source);
  }
}

void ComponentTrace::MergeFrom(const ComponentTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:syntaxnet.dragnn.ComponentTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  step_trace_.MergeFrom(from.step_trace_);
  if (from.has_name()) {
    set_has_name();
    name_.AssignWithDefault(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), from.name_);
  }
}

void ComponentTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:syntaxnet.dragnn.ComponentTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void ComponentTrace::CopyFrom(const ComponentTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:syntaxnet.dragnn.ComponentTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool ComponentTrace::IsInitialized() const {
  return true;
}

void ComponentTrace::Swap(ComponentTrace* other) {
  if (other == this) return;
  InternalSwap(other);
}
void ComponentTrace::InternalSwap(ComponentTrace* other) {
  step_trace_.UnsafeArenaSwap(&other->step_trace_);
  name_.Swap(&other->name_);
  std::swap(_has_bits_[0], other->_has_bits_[0]);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  std::swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata ComponentTrace::GetMetadata() const {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[3];
}

#if PROTOBUF_INLINE_NOT_IN_HEADERS
// ComponentTrace

// optional string name = 1;
bool ComponentTrace::has_name() const {
  return (_has_bits_[0] & 0x00000001u) != 0;
}
void ComponentTrace::set_has_name() {
  _has_bits_[0] |= 0x00000001u;
}
void ComponentTrace::clear_has_name() {
  _has_bits_[0] &= ~0x00000001u;
}
void ComponentTrace::clear_name() {
  name_.ClearToEmptyNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
  clear_has_name();
}
const ::std::string& ComponentTrace::name() const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentTrace.name)
  return name_.GetNoArena();
}
void ComponentTrace::set_name(const ::std::string& value) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), value);
  // @@protoc_insertion_point(field_set:syntaxnet.dragnn.ComponentTrace.name)
}
#if LANG_CXX11
void ComponentTrace::set_name(::std::string&& value) {
  set_has_name();
  name_.SetNoArena(
    &::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::move(value));
  // @@protoc_insertion_point(field_set_rvalue:syntaxnet.dragnn.ComponentTrace.name)
}
#endif
void ComponentTrace::set_name(const char* value) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), ::std::string(value));
  // @@protoc_insertion_point(field_set_char:syntaxnet.dragnn.ComponentTrace.name)
}
void ComponentTrace::set_name(const char* value, size_t size) {
  set_has_name();
  name_.SetNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(),
      ::std::string(reinterpret_cast<const char*>(value), size));
  // @@protoc_insertion_point(field_set_pointer:syntaxnet.dragnn.ComponentTrace.name)
}
::std::string* ComponentTrace::mutable_name() {
  set_has_name();
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.ComponentTrace.name)
  return name_.MutableNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
::std::string* ComponentTrace::release_name() {
  // @@protoc_insertion_point(field_release:syntaxnet.dragnn.ComponentTrace.name)
  clear_has_name();
  return name_.ReleaseNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited());
}
void ComponentTrace::set_allocated_name(::std::string* name) {
  if (name != NULL) {
    set_has_name();
  } else {
    clear_has_name();
  }
  name_.SetAllocatedNoArena(&::google::protobuf::internal::GetEmptyStringAlreadyInited(), name);
  // @@protoc_insertion_point(field_set_allocated:syntaxnet.dragnn.ComponentTrace.name)
}

// repeated .syntaxnet.dragnn.ComponentStepTrace step_trace = 2;
int ComponentTrace::step_trace_size() const {
  return step_trace_.size();
}
void ComponentTrace::clear_step_trace() {
  step_trace_.Clear();
}
const ::syntaxnet::dragnn::ComponentStepTrace& ComponentTrace::step_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.ComponentTrace.step_trace)
  return step_trace_.Get(index);
}
::syntaxnet::dragnn::ComponentStepTrace* ComponentTrace::mutable_step_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.ComponentTrace.step_trace)
  return step_trace_.Mutable(index);
}
::syntaxnet::dragnn::ComponentStepTrace* ComponentTrace::add_step_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.ComponentTrace.step_trace)
  return step_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::ComponentStepTrace >*
ComponentTrace::mutable_step_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.ComponentTrace.step_trace)
  return &step_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::ComponentStepTrace >&
ComponentTrace::step_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.ComponentTrace.step_trace)
  return step_trace_;
}

#endif  // PROTOBUF_INLINE_NOT_IN_HEADERS

// ===================================================================

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int MasterTrace::kComponentTraceFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

MasterTrace::MasterTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:syntaxnet.dragnn.MasterTrace)
}
MasterTrace::MasterTrace(const MasterTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _has_bits_(from._has_bits_),
      _cached_size_(0),
      component_trace_(from.component_trace_) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  // @@protoc_insertion_point(copy_constructor:syntaxnet.dragnn.MasterTrace)
}

void MasterTrace::SharedCtor() {
  _cached_size_ = 0;
}

MasterTrace::~MasterTrace() {
  // @@protoc_insertion_point(destructor:syntaxnet.dragnn.MasterTrace)
  SharedDtor();
}

void MasterTrace::SharedDtor() {
}

void MasterTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* MasterTrace::descriptor() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[4].descriptor;
}

const MasterTrace& MasterTrace::default_instance() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  return *internal_default_instance();
}

MasterTrace* MasterTrace::New(::google::protobuf::Arena* arena) const {
  MasterTrace* n = new MasterTrace;
  if (arena != NULL) {
    arena->Own(n);
  }
  return n;
}

void MasterTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:syntaxnet.dragnn.MasterTrace)
  component_trace_.Clear();
  _has_bits_.Clear();
  _internal_metadata_.Clear();
}

bool MasterTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:syntaxnet.dragnn.MasterTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // repeated .syntaxnet.dragnn.ComponentTrace component_trace = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_component_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0 ||
            ::google::protobuf::internal::WireFormatLite::GetTagWireType(tag) ==
            ::google::protobuf::internal::WireFormatLite::WIRETYPE_END_GROUP) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:syntaxnet.dragnn.MasterTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:syntaxnet.dragnn.MasterTrace)
  return false;
#undef DO_
}

void MasterTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:syntaxnet.dragnn.MasterTrace)
  // repeated .syntaxnet.dragnn.ComponentTrace component_trace = 1;
  for (unsigned int i = 0, n = this->component_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1, this->component_trace(i), output);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        unknown_fields(), output);
  }
  // @@protoc_insertion_point(serialize_end:syntaxnet.dragnn.MasterTrace)
}

::google::protobuf::uint8* MasterTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic;  // Unused
  // @@protoc_insertion_point(serialize_to_array_start:syntaxnet.dragnn.MasterTrace)
  // repeated .syntaxnet.dragnn.ComponentTrace component_trace = 1;
  for (unsigned int i = 0, n = this->component_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        1, this->component_trace(i), false, target);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        unknown_fields(), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:syntaxnet.dragnn.MasterTrace)
  return target;
}

size_t MasterTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:syntaxnet.dragnn.MasterTrace)
  size_t total_size = 0;

  if (_internal_metadata_.have_unknown_fields()) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        unknown_fields());
  }
  // repeated .syntaxnet.dragnn.ComponentTrace component_trace = 1;
  {
    unsigned int count = this->component_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->component_trace(i));
    }
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void MasterTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:syntaxnet.dragnn.MasterTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const MasterTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const MasterTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:syntaxnet.dragnn.MasterTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:syntaxnet.dragnn.MasterTrace)
    MergeFrom(*source);
  }
}

void MasterTrace::MergeFrom(const MasterTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:syntaxnet.dragnn.MasterTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  component_trace_.MergeFrom(from.component_trace_);
}

void MasterTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:syntaxnet.dragnn.MasterTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void MasterTrace::CopyFrom(const MasterTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:syntaxnet.dragnn.MasterTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool MasterTrace::IsInitialized() const {
  return true;
}

void MasterTrace::Swap(MasterTrace* other) {
  if (other == this) return;
  InternalSwap(other);
}
void MasterTrace::InternalSwap(MasterTrace* other) {
  component_trace_.UnsafeArenaSwap(&other->component_trace_);
  std::swap(_has_bits_[0], other->_has_bits_[0]);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  std::swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata MasterTrace::GetMetadata() const {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[4];
}

#if PROTOBUF_INLINE_NOT_IN_HEADERS
// MasterTrace

// repeated .syntaxnet.dragnn.ComponentTrace component_trace = 1;
int MasterTrace::component_trace_size() const {
  return component_trace_.size();
}
void MasterTrace::clear_component_trace() {
  component_trace_.Clear();
}
const ::syntaxnet::dragnn::ComponentTrace& MasterTrace::component_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.MasterTrace.component_trace)
  return component_trace_.Get(index);
}
::syntaxnet::dragnn::ComponentTrace* MasterTrace::mutable_component_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.MasterTrace.component_trace)
  return component_trace_.Mutable(index);
}
::syntaxnet::dragnn::ComponentTrace* MasterTrace::add_component_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.MasterTrace.component_trace)
  return component_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::ComponentTrace >*
MasterTrace::mutable_component_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.MasterTrace.component_trace)
  return &component_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::ComponentTrace >&
MasterTrace::component_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.MasterTrace.component_trace)
  return component_trace_;
}

#endif  // PROTOBUF_INLINE_NOT_IN_HEADERS

// ===================================================================

#if !defined(_MSC_VER) || _MSC_VER >= 1900
const int DragnnTrace::kMasterTraceFieldNumber;
#endif  // !defined(_MSC_VER) || _MSC_VER >= 1900

DragnnTrace::DragnnTrace()
  : ::google::protobuf::Message(), _internal_metadata_(NULL) {
  if (GOOGLE_PREDICT_TRUE(this != internal_default_instance())) {
    protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  }
  SharedCtor();
  // @@protoc_insertion_point(constructor:syntaxnet.dragnn.DragnnTrace)
}
DragnnTrace::DragnnTrace(const DragnnTrace& from)
  : ::google::protobuf::Message(),
      _internal_metadata_(NULL),
      _has_bits_(from._has_bits_),
      _cached_size_(0),
      master_trace_(from.master_trace_) {
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  // @@protoc_insertion_point(copy_constructor:syntaxnet.dragnn.DragnnTrace)
}

void DragnnTrace::SharedCtor() {
  _cached_size_ = 0;
}

DragnnTrace::~DragnnTrace() {
  // @@protoc_insertion_point(destructor:syntaxnet.dragnn.DragnnTrace)
  SharedDtor();
}

void DragnnTrace::SharedDtor() {
}

void DragnnTrace::SetCachedSize(int size) const {
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
}
const ::google::protobuf::Descriptor* DragnnTrace::descriptor() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[5].descriptor;
}

const DragnnTrace& DragnnTrace::default_instance() {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::InitDefaults();
  return *internal_default_instance();
}

DragnnTrace* DragnnTrace::New(::google::protobuf::Arena* arena) const {
  DragnnTrace* n = new DragnnTrace;
  if (arena != NULL) {
    arena->Own(n);
  }
  return n;
}

void DragnnTrace::Clear() {
// @@protoc_insertion_point(message_clear_start:syntaxnet.dragnn.DragnnTrace)
  master_trace_.Clear();
  _has_bits_.Clear();
  _internal_metadata_.Clear();
}

bool DragnnTrace::MergePartialFromCodedStream(
    ::google::protobuf::io::CodedInputStream* input) {
#define DO_(EXPRESSION) if (!GOOGLE_PREDICT_TRUE(EXPRESSION)) goto failure
  ::google::protobuf::uint32 tag;
  // @@protoc_insertion_point(parse_start:syntaxnet.dragnn.DragnnTrace)
  for (;;) {
    ::std::pair< ::google::protobuf::uint32, bool> p = input->ReadTagWithCutoffNoLastTag(127u);
    tag = p.first;
    if (!p.second) goto handle_unusual;
    switch (::google::protobuf::internal::WireFormatLite::GetTagFieldNumber(tag)) {
      // repeated .syntaxnet.dragnn.MasterTrace master_trace = 1;
      case 1: {
        if (static_cast< ::google::protobuf::uint8>(tag) ==
            static_cast< ::google::protobuf::uint8>(10u)) {
          DO_(input->IncrementRecursionDepth());
          DO_(::google::protobuf::internal::WireFormatLite::ReadMessageNoVirtualNoRecursionDepth(
                input, add_master_trace()));
        } else {
          goto handle_unusual;
        }
        input->UnsafeDecrementRecursionDepth();
        break;
      }

      default: {
      handle_unusual:
        if (tag == 0 ||
            ::google::protobuf::internal::WireFormatLite::GetTagWireType(tag) ==
            ::google::protobuf::internal::WireFormatLite::WIRETYPE_END_GROUP) {
          goto success;
        }
        DO_(::google::protobuf::internal::WireFormat::SkipField(
              input, tag, mutable_unknown_fields()));
        break;
      }
    }
  }
success:
  // @@protoc_insertion_point(parse_success:syntaxnet.dragnn.DragnnTrace)
  return true;
failure:
  // @@protoc_insertion_point(parse_failure:syntaxnet.dragnn.DragnnTrace)
  return false;
#undef DO_
}

void DragnnTrace::SerializeWithCachedSizes(
    ::google::protobuf::io::CodedOutputStream* output) const {
  // @@protoc_insertion_point(serialize_start:syntaxnet.dragnn.DragnnTrace)
  // repeated .syntaxnet.dragnn.MasterTrace master_trace = 1;
  for (unsigned int i = 0, n = this->master_trace_size(); i < n; i++) {
    ::google::protobuf::internal::WireFormatLite::WriteMessageMaybeToArray(
      1, this->master_trace(i), output);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    ::google::protobuf::internal::WireFormat::SerializeUnknownFields(
        unknown_fields(), output);
  }
  // @@protoc_insertion_point(serialize_end:syntaxnet.dragnn.DragnnTrace)
}

::google::protobuf::uint8* DragnnTrace::InternalSerializeWithCachedSizesToArray(
    bool deterministic, ::google::protobuf::uint8* target) const {
  (void)deterministic;  // Unused
  // @@protoc_insertion_point(serialize_to_array_start:syntaxnet.dragnn.DragnnTrace)
  // repeated .syntaxnet.dragnn.MasterTrace master_trace = 1;
  for (unsigned int i = 0, n = this->master_trace_size(); i < n; i++) {
    target = ::google::protobuf::internal::WireFormatLite::
      InternalWriteMessageNoVirtualToArray(
        1, this->master_trace(i), false, target);
  }

  if (_internal_metadata_.have_unknown_fields()) {
    target = ::google::protobuf::internal::WireFormat::SerializeUnknownFieldsToArray(
        unknown_fields(), target);
  }
  // @@protoc_insertion_point(serialize_to_array_end:syntaxnet.dragnn.DragnnTrace)
  return target;
}

size_t DragnnTrace::ByteSizeLong() const {
// @@protoc_insertion_point(message_byte_size_start:syntaxnet.dragnn.DragnnTrace)
  size_t total_size = 0;

  if (_internal_metadata_.have_unknown_fields()) {
    total_size +=
      ::google::protobuf::internal::WireFormat::ComputeUnknownFieldsSize(
        unknown_fields());
  }
  // repeated .syntaxnet.dragnn.MasterTrace master_trace = 1;
  {
    unsigned int count = this->master_trace_size();
    total_size += 1UL * count;
    for (unsigned int i = 0; i < count; i++) {
      total_size +=
        ::google::protobuf::internal::WireFormatLite::MessageSizeNoVirtual(
          this->master_trace(i));
    }
  }

  int cached_size = ::google::protobuf::internal::ToCachedSize(total_size);
  GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN();
  _cached_size_ = cached_size;
  GOOGLE_SAFE_CONCURRENT_WRITES_END();
  return total_size;
}

void DragnnTrace::MergeFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_merge_from_start:syntaxnet.dragnn.DragnnTrace)
  GOOGLE_DCHECK_NE(&from, this);
  const DragnnTrace* source =
      ::google::protobuf::internal::DynamicCastToGenerated<const DragnnTrace>(
          &from);
  if (source == NULL) {
  // @@protoc_insertion_point(generalized_merge_from_cast_fail:syntaxnet.dragnn.DragnnTrace)
    ::google::protobuf::internal::ReflectionOps::Merge(from, this);
  } else {
  // @@protoc_insertion_point(generalized_merge_from_cast_success:syntaxnet.dragnn.DragnnTrace)
    MergeFrom(*source);
  }
}

void DragnnTrace::MergeFrom(const DragnnTrace& from) {
// @@protoc_insertion_point(class_specific_merge_from_start:syntaxnet.dragnn.DragnnTrace)
  GOOGLE_DCHECK_NE(&from, this);
  _internal_metadata_.MergeFrom(from._internal_metadata_);
  master_trace_.MergeFrom(from.master_trace_);
}

void DragnnTrace::CopyFrom(const ::google::protobuf::Message& from) {
// @@protoc_insertion_point(generalized_copy_from_start:syntaxnet.dragnn.DragnnTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

void DragnnTrace::CopyFrom(const DragnnTrace& from) {
// @@protoc_insertion_point(class_specific_copy_from_start:syntaxnet.dragnn.DragnnTrace)
  if (&from == this) return;
  Clear();
  MergeFrom(from);
}

bool DragnnTrace::IsInitialized() const {
  return true;
}

void DragnnTrace::Swap(DragnnTrace* other) {
  if (other == this) return;
  InternalSwap(other);
}
void DragnnTrace::InternalSwap(DragnnTrace* other) {
  master_trace_.UnsafeArenaSwap(&other->master_trace_);
  std::swap(_has_bits_[0], other->_has_bits_[0]);
  _internal_metadata_.Swap(&other->_internal_metadata_);
  std::swap(_cached_size_, other->_cached_size_);
}

::google::protobuf::Metadata DragnnTrace::GetMetadata() const {
  protobuf_dragnn_2fprotos_2ftrace_2eproto::protobuf_AssignDescriptorsOnce();
  return protobuf_dragnn_2fprotos_2ftrace_2eproto::file_level_metadata[5];
}

#if PROTOBUF_INLINE_NOT_IN_HEADERS
// DragnnTrace

// repeated .syntaxnet.dragnn.MasterTrace master_trace = 1;
int DragnnTrace::master_trace_size() const {
  return master_trace_.size();
}
void DragnnTrace::clear_master_trace() {
  master_trace_.Clear();
}
const ::syntaxnet::dragnn::MasterTrace& DragnnTrace::master_trace(int index) const {
  // @@protoc_insertion_point(field_get:syntaxnet.dragnn.DragnnTrace.master_trace)
  return master_trace_.Get(index);
}
::syntaxnet::dragnn::MasterTrace* DragnnTrace::mutable_master_trace(int index) {
  // @@protoc_insertion_point(field_mutable:syntaxnet.dragnn.DragnnTrace.master_trace)
  return master_trace_.Mutable(index);
}
::syntaxnet::dragnn::MasterTrace* DragnnTrace::add_master_trace() {
  // @@protoc_insertion_point(field_add:syntaxnet.dragnn.DragnnTrace.master_trace)
  return master_trace_.Add();
}
::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::MasterTrace >*
DragnnTrace::mutable_master_trace() {
  // @@protoc_insertion_point(field_mutable_list:syntaxnet.dragnn.DragnnTrace.master_trace)
  return &master_trace_;
}
const ::google::protobuf::RepeatedPtrField< ::syntaxnet::dragnn::MasterTrace >&
DragnnTrace::master_trace() const {
  // @@protoc_insertion_point(field_list:syntaxnet.dragnn.DragnnTrace.master_trace)
  return master_trace_;
}

#endif  // PROTOBUF_INLINE_NOT_IN_HEADERS

// @@protoc_insertion_point(namespace_scope)

}  // namespace dragnn
}  // namespace syntaxnet

// @@protoc_insertion_point(global_scope)
